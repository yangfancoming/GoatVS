<?xml version="1.0" encoding="utf-8" ?>

<sqlMap namespace="sys_user" xmlns="http://ibatis.apache.org/mapping">

  <alias>
    <typeAlias alias="sys_user" type="chapter6_2_3.model.SysUser,chapter6_2_3" />
  </alias>

  <statements>


<!--    <select id="selectListPage" parameterClass="sys_user" resultClass="sys_user">-->
<!--      select   *  from   sys_user where 1=1-->
<!--      <isNotEmpty  prepend="and" property="id">-->
<!--        id =   #id#-->
<!--      </isNotEmpty >-->
<!--      order by id limit #begin#,#showCount#-->
<!--    </select>-->
<!--    -->

<!--    <update id="update" parameterClass="sys_user"  >-->
<!--      UPDATE sys_user-->
<!--      <dynamic prepend="set">-->
<!--        <isNotNull prepend="," property="account">account = #account#</isNotNull>-->
<!--        <isNotNull prepend="," property="password">password = #password#</isNotNull>-->
<!--        <isNotNull prepend="," property="username">username = #username#</isNotNull>-->
<!--        <isNotNull prepend="," property="nickname">nickname = #nickname#</isNotNull>-->
<!--        <isNotNull prepend="," property="isenable">isenable = #isenable#</isNotNull>-->
<!--        <isNotNull prepend="," property="email">email = #email#</isNotNull>-->
<!--        <isNotNull prepend="," property="code">code = #code#</isNotNull>-->
<!--      </dynamic>-->
<!--      WHERE id = #id#-->
<!--    </update>-->

    
    <insert id="insert" parameterClass="sys_user" >
      INSERT INTO sys_user
      ([account],[password],[username],[nickname],[isenable],[email],[code],[createtime])
      VALUES
      (#account#,#password#,#username#,#nickname#,#isenable#,#email#,#code#,#createtime#)
    </insert>


    <select id="selectOne" resultClass="sys_user">
      select * from sys_user where 1=1
      <dynamic prepend="AND">
        <isNotNull prepend="AND" property="account">account = #account#</isNotNull>
          <isNotNull prepend="AND" property="password" >password = #password#</isNotNull>
        <isNotNull prepend="AND" property="id" >id = #id#</isNotNull>
      </dynamic>
    </select>

    
    
    <select id="selectList" resultClass="sys_user">
      select * from sys_user
    </select>

    
    
    <delete id="deleteList" parameterClass="ArrayList">
      delete from sys_user where id in
      <iterate open="(" close=")" conjunction=",">
        #[]#
      </iterate>
    </delete>
    
    
    
    
    
    
  </statements>

</sqlMap>